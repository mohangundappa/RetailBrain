<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="700" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="700" fill="#222222" rx="10" ry="10"/>
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial" font-size="24" fill="#ffffff" text-anchor="middle" font-weight="bold">Agent Component Architecture</text>
  
  <!-- System Boundary -->
  <rect x="70" y="70" width="660" height="580" fill="#333333" rx="8" ry="8" stroke="#555555" stroke-width="2"/>
  
  <!-- LangChain Integration -->
  <rect x="100" y="90" width="600" height="30" fill="#555555" rx="5" ry="5" stroke="#ffffff" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="400" y="110" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">LangChain/LangGraph Integration Layer</text>
  
  <!-- LLM Component -->
  <rect x="220" y="140" width="360" height="70" fill="#6c3483" rx="5" ry="5" stroke="#9b59b6" stroke-width="2"/>
  <text x="400" y="165" font-family="Arial" font-size="18" fill="#ffffff" text-anchor="middle">Language Model (LLM)</text>
  <text x="400" y="190" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">GPT-4o Foundation Model</text>

  <!-- System Orchestrator -->
  <rect x="100" y="140" width="100" height="70" fill="#273746" rx="5" ry="5" stroke="#5dade2" stroke-width="1"/>
  <text x="150" y="180" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">System Orchestrator</text>

  <!-- LLM Caching -->
  <rect x="600" y="140" width="100" height="70" fill="#6c3483" rx="5" ry="5" stroke="#9b59b6" stroke-width="1" stroke-dasharray="3,2"/>
  <text x="650" y="180" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Response Cache</text>

  <!-- Core Agent Logic -->
  <rect x="220" y="230" width="360" height="70" fill="#1a5276" rx="5" ry="5" stroke="#3498db" stroke-width="2"/>
  <text x="400" y="260" font-family="Arial" font-size="18" fill="#ffffff" text-anchor="middle">Agent Core Logic</text>
  <text x="400" y="280" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Core reasoning and decision making system</text>
  
  <!-- Security & Guardrails -->
  <rect x="100" y="320" width="180" height="70" fill="#7d3c98" rx="5" ry="5" stroke="#d2b4de" stroke-width="2"/>
  <text x="190" y="350" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Security & Guardrails</text>
  <text x="190" y="370" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Input/output verification</text>
  
  <!-- Memory Component -->
  <rect x="100" y="410" width="180" height="70" fill="#2e4053" rx="5" ry="5" stroke="#5dade2" stroke-width="2"/>
  <text x="190" y="440" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Memory System</text>
  <text x="190" y="460" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Conversation history</text>
  
  <!-- Prompt Templates -->
  <rect x="310" y="320" width="180" height="70" fill="#2e4053" rx="5" ry="5" stroke="#5dade2" stroke-width="2"/>
  <text x="400" y="350" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Prompt Templates</text>
  <text x="400" y="370" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Context formulation</text>
  
  <!-- Tool Orchestration -->
  <rect x="520" y="320" width="180" height="70" fill="#117a65" rx="5" ry="5" stroke="#27ae60" stroke-width="2"/>
  <text x="610" y="350" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Tool Orchestration</text>
  <text x="610" y="370" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Tool execution</text>
  
  <!-- Documentation -->
  <rect x="310" y="410" width="180" height="70" fill="#2e4053" rx="5" ry="5" stroke="#5dade2" stroke-width="2"/>
  <text x="400" y="440" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Self-Documentation</text>
  <text x="400" y="460" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Capability tracking</text>
  
  <!-- Performance -->
  <rect x="310" y="500" width="180" height="70" fill="#3498db" rx="5" ry="5" stroke="#85c1e9" stroke-width="2"/>
  <text x="400" y="530" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Performance</text>
  <text x="400" y="550" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Optimization</text>
  
  <!-- Tools Section -->
  <rect x="520" y="410" width="180" height="160" fill="#2c3e50" rx="5" ry="5" stroke="#e74c3c" stroke-width="2"/>
  <text x="610" y="435" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Tools</text>
  
  <!-- Individual Tools -->
  <rect x="535" y="450" width="150" height="30" fill="#34495e" rx="3" ry="3" stroke="#e74c3c" stroke-width="1"/>
  <text x="610" y="470" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">External API Tool</text>
  
  <rect x="535" y="490" width="150" height="30" fill="#34495e" rx="3" ry="3" stroke="#e74c3c" stroke-width="1"/>
  <text x="610" y="510" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">Database Query Tool</text>

  <rect x="535" y="530" width="150" height="30" fill="#34495e" rx="3" ry="3" stroke="#e74c3c" stroke-width="1"/>
  <text x="610" y="550" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">Documentation Access</text>
  
  <!-- Output Filtering -->
  <rect x="100" y="500" width="180" height="70" fill="#7d3c98" rx="5" ry="5" stroke="#d2b4de" stroke-width="2"/>
  <text x="190" y="530" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Output Filtering</text>
  <text x="190" y="550" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Safety & compliance</text>
  
  <!-- Connections -->
  <!-- System Orchestrator to LLM -->
  <path d="M 200 175 L 220 175" stroke="#5dade2" stroke-width="2" fill="none"/>
  
  <!-- LLM to Cache -->
  <path d="M 580 175 L 600 175" stroke="#9b59b6" stroke-width="2" fill="none" stroke-dasharray="5,3"/>
  
  <!-- LLM to Core -->
  <path d="M 400 210 L 400 230" stroke="#9b59b6" stroke-width="2" fill="none"/>
  
  <!-- Core to Security -->
  <path d="M 220 265 L 190 265 L 190 320" stroke="#3498db" stroke-width="2" fill="none"/>
  
  <!-- Core to Prompt Templates -->
  <path d="M 400 300 L 400 320" stroke="#3498db" stroke-width="2" fill="none"/>
  
  <!-- Core to Tool Orchestration -->
  <path d="M 580 265 L 610 265 L 610 320" stroke="#3498db" stroke-width="2" fill="none"/>
  
  <!-- Security to Memory -->
  <path d="M 190 390 L 190 410" stroke="#d2b4de" stroke-width="2" fill="none"/>
  
  <!-- Memory to Output Filtering -->
  <path d="M 190 480 L 190 500" stroke="#5dade2" stroke-width="2" fill="none"/>
  
  <!-- Prompt Templates to Documentation -->
  <path d="M 400 390 L 400 410" stroke="#5dade2" stroke-width="2" fill="none"/>
  
  <!-- Documentation to Performance -->
  <path d="M 400 480 L 400 500" stroke="#5dade2" stroke-width="2" fill="none"/>
  
  <!-- Tool Orchestration to Tools -->
  <path d="M 610 390 L 610 410" stroke="#27ae60" stroke-width="2" fill="none"/>
  
  <!-- Tool to LLM (feedback loop) -->
  <path d="M 610 410 L 700 410 L 700 175 L 580 175" stroke="#e74c3c" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
  
  <!-- Output to System (feedback loop) -->
  <path d="M 190 570 L 190 590 L 150 590 L 150 210" stroke="#d2b4de" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
  
  <!-- Legend -->
  <rect x="100" y="660" width="20" height="10" fill="#9b59b6" rx="2" ry="2"/>
  <text x="125" y="670" font-family="Arial" font-size="12" fill="#ffffff">LLM Components</text>
  
  <rect x="250" y="660" width="20" height="10" fill="#3498db" rx="2" ry="2"/>
  <text x="275" y="670" font-family="Arial" font-size="12" fill="#ffffff">Core Components</text>
  
  <rect x="400" y="660" width="20" height="10" fill="#e74c3c" rx="2" ry="2"/>
  <text x="425" y="670" font-family="Arial" font-size="12" fill="#ffffff">Tool Interface</text>
  
  <rect x="550" y="660" width="20" height="10" fill="#d2b4de" rx="2" ry="2"/>
  <text x="575" y="670" font-family="Arial" font-size="12" fill="#ffffff">Security & Guardrails</text>
  
  <rect x="100" y="680" width="20" height="10" fill="#27ae60" rx="2" ry="2"/>
  <text x="125" y="690" font-family="Arial" font-size="12" fill="#ffffff">Tool Orchestration</text>
  
  <rect x="250" y="680" width="20" height="10" fill="#5dade2" rx="2" ry="2" stroke-dasharray="5,5" stroke="#5dade2"/>
  <text x="275" y="690" font-family="Arial" font-size="12" fill="#ffffff">Feedback Loops</text>
  
  <rect x="400" y="680" width="20" height="10" fill="#85c1e9" rx="2" ry="2"/>
  <text x="425" y="690" font-family="Arial" font-size="12" fill="#ffffff">Performance Optimization</text>
  
  <rect x="550" y="680" width="20" height="10" fill="#555555" rx="2" ry="2"/>
  <text x="575" y="690" font-family="Arial" font-size="12" fill="#ffffff">LangChain Integration</text>
</svg>