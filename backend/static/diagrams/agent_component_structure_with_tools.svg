<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#222222" rx="10" ry="10"/>
  
  <!-- Title -->
  <text x="400" y="50" font-family="Arial" font-size="24" fill="#ffffff" text-anchor="middle" font-weight="bold">Agent Component Structure</text>
  
  <!-- Core Container -->
  <rect x="100" y="100" width="600" height="450" fill="#333333" rx="8" ry="8" stroke="#555555" stroke-width="2"/>
  
  <!-- Central Agent Logic -->
  <rect x="220" y="120" width="360" height="80" fill="#1a5276" rx="5" ry="5" stroke="#3498db" stroke-width="2"/>
  <text x="400" y="150" font-family="Arial" font-size="18" fill="#ffffff" text-anchor="middle">Agent Core Logic</text>
  <text x="400" y="180" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Core reasoning and decision making system</text>
  
  <!-- Memory Component -->
  <rect x="120" y="230" width="200" height="80" fill="#2e4053" rx="5" ry="5" stroke="#5dade2" stroke-width="2"/>
  <text x="220" y="260" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Memory System</text>
  <text x="220" y="285" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Conversation history</text>
  
  <!-- Prompt Templates -->
  <rect x="480" y="230" width="200" height="80" fill="#2e4053" rx="5" ry="5" stroke="#5dade2" stroke-width="2"/>
  <text x="580" y="260" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Prompt Templates</text>
  <text x="580" y="285" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Context formulation</text>
  
  <!-- Entity Extraction -->
  <rect x="120" y="340" width="200" height="80" fill="#2e4053" rx="5" ry="5" stroke="#5dade2" stroke-width="2"/>
  <text x="220" y="370" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Entity Framework</text>
  <text x="220" y="395" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Data extraction &amp; validation</text>
  
  <!-- Tools Section - NEW -->
  <rect x="480" y="340" width="200" height="140" fill="#2c3e50" rx="5" ry="5" stroke="#e74c3c" stroke-width="2"/>
  <text x="580" y="365" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Tools</text>
  
  <!-- Individual Tools -->
  <rect x="495" y="380" width="170" height="30" fill="#34495e" rx="3" ry="3" stroke="#e74c3c" stroke-width="1"/>
  <text x="580" y="400" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">External API Tool</text>
  
  <rect x="495" y="420" width="170" height="30" fill="#34495e" rx="3" ry="3" stroke="#e74c3c" stroke-width="1"/>
  <text x="580" y="440" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">Database Query Tool</text>
  
  <!-- Response Formatter -->
  <rect x="120" y="450" width="200" height="80" fill="#2e4053" rx="5" ry="5" stroke="#5dade2" stroke-width="2"/>
  <text x="220" y="480" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle">Response Formatter</text>
  <text x="220" y="505" font-family="Arial" font-size="14" fill="#aaaaaa" text-anchor="middle">Output structuring</text>
  
  <!-- Connections -->
  <!-- Core to Memory -->
  <path d="M 400 200 L 400 220 L 220 220 L 220 230" stroke="#5dade2" stroke-width="2" fill="none"/>
  
  <!-- Core to Prompt Templates -->
  <path d="M 400 200 L 400 220 L 580 220 L 580 230" stroke="#5dade2" stroke-width="2" fill="none"/>
  
  <!-- Memory to Entity -->
  <path d="M 220 310 L 220 340" stroke="#5dade2" stroke-width="2" fill="none"/>
  
  <!-- Core to Tools -->
  <path d="M 580 310 L 580 340" stroke="#5dade2" stroke-width="2" fill="none"/>
  
  <!-- Entity to Response -->
  <path d="M 220 420 L 220 450" stroke="#5dade2" stroke-width="2" fill="none"/>
  
  <!-- Tools to Response (diagonal) -->
  <path d="M 520 480 L 320 480" stroke="#e74c3c" stroke-width="2" fill="none"/>
  
  <!-- Legend -->
  <rect x="610" y="500" width="20" height="10" fill="#3498db" rx="2" ry="2"/>
  <text x="635" y="510" font-family="Arial" font-size="12" fill="#ffffff">Core Components</text>
  
  <rect x="610" y="520" width="20" height="10" fill="#e74c3c" rx="2" ry="2"/>
  <text x="635" y="530" font-family="Arial" font-size="12" fill="#ffffff">Tool Interface</text>
  
  <rect x="610" y="540" width="20" height="10" fill="#5dade2" rx="2" ry="2"/>
  <text x="635" y="550" font-family="Arial" font-size="12" fill="#ffffff">Data Flow</text>
</svg>