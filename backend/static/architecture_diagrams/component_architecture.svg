<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="700" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="40" font-family="Arial" font-size="24" font-weight="bold" text-anchor="middle">Staples Brain - Component Architecture</text>
  
  <!-- Core Components -->
  <rect x="100" y="80" width="600" height="200" rx="10" ry="10" fill="#f1f3f5" stroke="#495057" stroke-width="2"/>
  <text x="400" y="110" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle">Core Components</text>
  
  <!-- Intent Handler -->
  <rect x="130" y="130" width="160" height="120" rx="5" ry="5" fill="#d0ebff" stroke="#1864ab" stroke-width="2"/>
  <text x="210" y="155" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Intent Handler</text>
  <rect x="140" y="165" width="140" height="30" rx="5" ry="5" fill="#a5d8ff" stroke="#1864ab" stroke-width="1"/>
  <text x="210" y="185" font-family="Arial" font-size="12" text-anchor="middle">Zero-Shot Classifier</text>
  <rect x="140" y="205" width="140" height="30" rx="5" ry="5" fill="#a5d8ff" stroke="#1864ab" stroke-width="1"/>
  <text x="210" y="225" font-family="Arial" font-size="12" text-anchor="middle">Intent Confidence</text>
  
  <!-- Orchestrator -->
  <rect x="320" y="130" width="160" height="120" rx="5" ry="5" fill="#d0ebff" stroke="#1864ab" stroke-width="2"/>
  <text x="400" y="155" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Orchestrator</text>
  <rect x="330" y="165" width="140" height="30" rx="5" ry="5" fill="#a5d8ff" stroke="#1864ab" stroke-width="1"/>
  <text x="400" y="185" font-family="Arial" font-size="12" text-anchor="middle">Agent Router</text>
  <rect x="330" y="205" width="140" height="30" rx="5" ry="5" fill="#a5d8ff" stroke="#1864ab" stroke-width="1"/>
  <text x="400" y="225" font-family="Arial" font-size="12" text-anchor="middle">Response Handler</text>
  
  <!-- Memory System -->
  <rect x="510" y="130" width="160" height="120" rx="5" ry="5" fill="#d0ebff" stroke="#1864ab" stroke-width="2"/>
  <text x="590" y="155" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Memory System</text>
  <rect x="520" y="165" width="140" height="30" rx="5" ry="5" fill="#a5d8ff" stroke="#1864ab" stroke-width="1"/>
  <text x="590" y="185" font-family="Arial" font-size="12" text-anchor="middle">Conversation Buffer</text>
  <rect x="520" y="205" width="140" height="30" rx="5" ry="5" fill="#a5d8ff" stroke="#1864ab" stroke-width="1"/>
  <text x="590" y="225" font-family="Arial" font-size="12" text-anchor="middle">Context Manager</text>
  
  <!-- Agent Layer -->
  <rect x="100" y="300" width="600" height="250" rx="10" ry="10" fill="#f1f3f5" stroke="#495057" stroke-width="2"/>
  <text x="400" y="330" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle">Agent Layer</text>
  
  <!-- Base Agent -->
  <rect x="135" y="350" width="530" height="60" rx="5" ry="5" fill="#fff3bf" stroke="#e67700" stroke-width="2"/>
  <text x="400" y="385" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Base Agent (Abstract Class)</text>
  
  <!-- Specialized Agents -->
  <rect x="135" y="430" width="160" height="100" rx="5" ry="5" fill="#ffec99" stroke="#e67700" stroke-width="2"/>
  <text x="215" y="455" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Package Tracking</text>
  <rect x="145" y="470" width="140" height="50" rx="5" ry="5" fill="#fff9db" stroke="#e67700" stroke-width="1"/>
  <text x="215" y="500" font-family="Arial" font-size="12" text-anchor="middle">Tracking Parser</text>
  
  <rect x="320" y="430" width="160" height="100" rx="5" ry="5" fill="#ffec99" stroke="#e67700" stroke-width="2"/>
  <text x="400" y="455" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Password Reset</text>
  <rect x="330" y="470" width="140" height="50" rx="5" ry="5" fill="#fff9db" stroke="#e67700" stroke-width="1"/>
  <text x="400" y="500" font-family="Arial" font-size="12" text-anchor="middle">Account Validator</text>
  
  <rect x="505" y="430" width="160" height="100" rx="5" ry="5" fill="#ffec99" stroke="#e67700" stroke-width="2"/>
  <text x="585" y="455" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Store Locator</text>
  <rect x="515" y="470" width="140" height="50" rx="5" ry="5" fill="#fff9db" stroke="#e67700" stroke-width="1"/>
  <text x="585" y="500" font-family="Arial" font-size="12" text-anchor="middle">Location Parser</text>
  
  <!-- Integration Layer -->
  <rect x="100" y="570" width="600" height="100" rx="10" ry="10" fill="#f1f3f5" stroke="#495057" stroke-width="2"/>
  <text x="400" y="600" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle">Integration Layer</text>
  
  <!-- Integration Components -->
  <rect x="135" y="620" width="160" height="40" rx="5" ry="5" fill="#d3f9d8" stroke="#2b8a3e" stroke-width="2"/>
  <text x="215" y="645" font-family="Arial" font-size="14" text-anchor="middle">LangChain/LangGraph</text>
  
  <rect x="320" y="620" width="160" height="40" rx="5" ry="5" fill="#d3f9d8" stroke="#2b8a3e" stroke-width="2"/>
  <text x="400" y="645" font-family="Arial" font-size="14" text-anchor="middle">LangSmith</text>
  
  <rect x="505" y="620" width="160" height="40" rx="5" ry="5" fill="#d3f9d8" stroke="#2b8a3e" stroke-width="2"/>
  <text x="585" y="645" font-family="Arial" font-size="14" text-anchor="middle">External API Clients</text>
  
  <!-- Connections -->
  <!-- Intent Handler to Orchestrator -->
  <line x1="290" y1="180" x2="320" y2="180" stroke="#1864ab" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Orchestrator to Memory -->
  <line x1="480" y1="180" x2="510" y2="180" stroke="#1864ab" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Memory to Orchestrator (bidirectional) -->
  <line x1="510" y1="200" x2="480" y2="200" stroke="#1864ab" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Orchestrator to Base Agent -->
  <line x1="400" y1="250" x2="400" y2="350" stroke="#1864ab" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Base Agent to Specialized Agents -->
  <line x1="215" y1="410" x2="215" y2="430" stroke="#e67700" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="400" y1="410" x2="400" y2="430" stroke="#e67700" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="585" y1="410" x2="585" y2="430" stroke="#e67700" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Specialized Agents to Integration Layer -->
  <line x1="215" y1="530" x2="215" y2="620" stroke="#e67700" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="400" y1="530" x2="400" y2="620" stroke="#e67700" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="585" y1="530" x2="585" y2="620" stroke="#e67700" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Define the arrowhead marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#212529"/>
    </marker>
  </defs>
</svg>