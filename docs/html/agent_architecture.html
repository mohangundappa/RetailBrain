<div class="agent-architecture">
  <h3 class="text-center mb-4">Agent Component Architecture - Enhanced View</h3>
  
  <!-- LangChain Integration Layer -->
  <div class="row">
    <div class="component integration">
      <div class="component-title">LangChain/LangGraph Integration Layer</div>
    </div>
  </div>
  
  <div class="row-spacer">
    <div class="connector vertical"></div>
  </div>
  
  <!-- LLM Row -->
  <div class="row">
    <div class="col-3">
      <div class="component memory">
        <div class="component-title">System Orchestrator</div>
        <div class="component-desc">Routes to appropriate agents</div>
      </div>
    </div>
    <div class="col-3">
      <div class="component llm">
        <div class="component-title">Language Model (LLM)</div>
        <div class="component-desc">GPT-4o Foundation Model</div>
      </div>
    </div>
    <div class="col-3">
      <div class="component llm" style="border-style: dashed;">
        <div class="component-title">Response Cache</div>
        <div class="component-desc">Optimized retrieval</div>
      </div>
    </div>
  </div>
  
  <div class="row-spacer">
    <div class="connector vertical"></div>
  </div>
  
  <!-- Core Logic -->
  <div class="row">
    <div class="col-2" style="margin-left: 25%;">
      <div class="component core">
        <div class="component-title">Agent Core Logic</div>
        <div class="component-desc">Reasoning and decision making</div>
      </div>
    </div>
  </div>
  
  <div class="row-spacer">
    <div class="connector vertical left"></div>
    <div class="connector vertical"></div>
    <div class="connector vertical right"></div>
  </div>
  
  <!-- Security, Prompt, Tool Orchestration Row -->
  <div class="row">
    <div class="col-3">
      <div class="component security">
        <div class="component-title">Security & Guardrails</div>
        <div class="component-desc">Input verification</div>
      </div>
    </div>
    <div class="col-3">
      <div class="component memory">
        <div class="component-title">Prompt Templates</div>
        <div class="component-desc">Context formulation</div>
      </div>
    </div>
    <div class="col-3">
      <div class="component orchestration">
        <div class="component-title">Tool Orchestration</div>
        <div class="component-desc">Tool selection & execution</div>
      </div>
    </div>
  </div>
  
  <div class="row-spacer">
    <div class="connector vertical left"></div>
    <div class="connector vertical"></div>
    <div class="connector vertical right"></div>
  </div>
  
  <!-- Memory, Documentation, Tools Row -->
  <div class="row">
    <div class="col-3">
      <div class="component memory">
        <div class="component-title">Memory System</div>
        <div class="component-desc">Conversation history</div>
      </div>
    </div>
    <div class="col-3">
      <div class="component memory">
        <div class="component-title">Self-Documentation</div>
        <div class="component-desc">Capability tracking</div>
      </div>
    </div>
    <div class="col-3">
      <div class="component tools">
        <div class="component-title">Tools</div>
        <div class="tool-item">External API Tool</div>
        <div class="tool-item">Database Query Tool</div>
        <div class="tool-item">Documentation Access</div>
      </div>
    </div>
  </div>
  
  <div class="row-spacer">
    <div class="connector vertical left"></div>
    <div class="connector vertical"></div>
  </div>
  
  <!-- Entity, Performance Row -->
  <div class="row">
    <div class="col-3">
      <div class="component memory">
        <div class="component-title">Entity Framework</div>
        <div class="component-desc">Data extraction</div>
      </div>
    </div>
    <div class="col-3">
      <div class="component core" style="background-color: #3498db;">
        <div class="component-title">Performance Optimization</div>
        <div class="component-desc">Efficiency improvements</div>
      </div>
    </div>
  </div>
  
  <div class="row-spacer">
    <div class="connector vertical left"></div>
    <div class="connector vertical"></div>
  </div>
  
  <!-- Output Row -->
  <div class="row">
    <div class="col-3">
      <div class="component memory">
        <div class="component-title">Response Formatter</div>
        <div class="component-desc">Output structuring</div>
      </div>
    </div>
    <div class="col-3">
      <div class="component security">
        <div class="component-title">Output Filtering</div>
        <div class="component-desc">Content safety & compliance</div>
      </div>
    </div>
  </div>
  
  <!-- Legend -->
  <div class="legend">
    <div class="legend-item">
      <div class="legend-color" style="background-color: #6c3483; border: 1px solid #9b59b6;"></div>
      <div class="legend-text">LLM Components</div>
    </div>
    <div class="legend-item">
      <div class="legend-color" style="background-color: #1a5276; border: 1px solid #3498db;"></div>
      <div class="legend-text">Core Components</div>
    </div>
    <div class="legend-item">
      <div class="legend-color" style="background-color: #2e4053; border: 1px solid #5dade2;"></div>
      <div class="legend-text">Agent Modules</div>
    </div>
    <div class="legend-item">
      <div class="legend-color" style="background-color: #2c3e50; border: 1px solid #e74c3c;"></div>
      <div class="legend-text">Tool Interface</div>
    </div>
    <div class="legend-item">
      <div class="legend-color" style="background-color: #7d3c98; border: 1px solid #d2b4de;"></div>
      <div class="legend-text">Security & Guardrails</div>
    </div>
    <div class="legend-item">
      <div class="legend-color" style="background-color: #117a65; border: 1px solid #27ae60;"></div>
      <div class="legend-text">Tool Orchestration</div>
    </div>
    <div class="legend-item">
      <div class="legend-color" style="background-color: #3498db; border: 1px solid #85c1e9;"></div>
      <div class="legend-text">Performance Optimization</div>
    </div>
  </div>
</div>